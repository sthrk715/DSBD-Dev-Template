# API実装パターン

## 使用方法
新しいAPIエンドポイントを実装する際のテンプレートプロンプト。

## プロンプト

以下の仕様でAPIエンドポイントを実装してください。

実装要件:
1. Next.js App Router の Route Handler (src/api/ 配下)
2. zodによるリクエストバリデーション
3. 認証ミドルウェアの適用（必要に応じて）
4. エラーハンドリング（RFC 7807準拠のエラーレスポンス）
5. BigQueryクエリはパラメタライズドクエリを使用
6. レスポンス型の定義（src/types/ に配置）
7. ユニットテスト・結合テストの作成

エンドポイント仕様:
- パス: [APIパス]
- メソッド: [GET/POST/PUT/DELETE]
- リクエスト: [リクエスト仕様]
- レスポンス: [レスポンス仕様]
- 認証: [要/不要]

## チェックリスト
- [ ] zodバリデーション実装
- [ ] 認証チェック実装
- [ ] エラーハンドリング実装
- [ ] パラメタライズドクエリ使用
- [ ] レスポンス型定義
- [ ] テスト作成
