# フィルタ動的挙動仕様

## フィルタ変更時のデータ再取得

- タイミング: [TODO: 即時反映 / 「適用」ボタン押下時]
- デバウンス: テキスト入力系は300msデバウンス
- キャンセル: フィルタ変更中の前回リクエストはキャンセル

## ローディング表示

| 状況 | 表示方式 |
|------|---------|
| 初回読み込み | スケルトンUI（グラフ・テーブルの形状を模した灰色プレースホルダー） |
| フィルタ変更時 | 部分更新（対象のグラフ/テーブルのみスピナー表示、他は維持） |
| エクスポート処理中 | ボタン内スピナー + disabled |

## URL連動

- フィルタ状態をURLクエリパラメータに反映（ブックマーク可能）
- パラメータ形式: `?startDate=2026-01-01&endDate=2026-01-31&category=electronics`
- URLからの復元: ページ遷移時にクエリパラメータからフィルタ状態を復元

## デフォルト値とリセット

| フィルタ | デフォルト値 |
|---------|------------|
| 期間 | [TODO: 直近30日] |
| カテゴリ | 全て |
| [TODO] | [TODO] |

- リセットボタン: 全フィルタをデフォルト値に戻す
- リセット時のURL: クエリパラメータをクリア

## フィルタ間の依存関係

| 親フィルタ | 子フィルタ | 挙動 |
|-----------|----------|------|
| [TODO: 例）地域] | [TODO: 例）店舗] | 地域を選択すると店舗の選択肢が絞り込まれる |
| [TODO] | [TODO] | [TODO] |

依存関係がある場合:
- 親フィルタ変更時に子フィルタの選択肢をAPI取得
- 子フィルタの選択値が新しい選択肢に含まれない場合は「全て」にリセット
