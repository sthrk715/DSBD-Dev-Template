# ã‚»ãƒ¬ã‚¯ã‚¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä»•æ§˜æ›¸

## æ¦‚è¦

ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å…¨ä½“ã§çµ±ä¸€çš„ã«ä½¿ç”¨ã™ã‚‹ã‚»ãƒ¬ã‚¯ã‚¿ï¼ˆãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ»æ—¥ä»˜ãƒ”ãƒƒã‚«ãƒ¼ç­‰ï¼‰ã®
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®šç¾©ã€‚shadcn/ui ã® Select / Combobox ã‚’ãƒ™ãƒ¼ã‚¹ã«æ‹¡å¼µã€‚

---

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¸€è¦§

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå | ç”¨é€” | ãƒ™ãƒ¼ã‚¹ |
|----------------|------|--------|
| `FilterSelect` | å˜ä¸€é¸æŠã‚»ãƒ¬ã‚¯ã‚¿ï¼ˆã‚«ãƒ†ã‚´ãƒªãƒ»ãƒãƒ£ãƒãƒ«ç­‰ï¼‰ | shadcn/ui Select |
| `FilterMultiSelect` | è¤‡æ•°é¸æŠã‚»ãƒ¬ã‚¯ã‚¿ï¼ˆåœ°åŸŸç­‰ï¼‰ | shadcn/ui Popover + Checkbox |
| `DateRangePicker` | æœŸé–“é¸æŠï¼ˆé–‹å§‹æ—¥ã€œçµ‚äº†æ—¥ï¼‰ | shadcn/ui Calendar + Popover |
| `PeriodSelector` | ãƒ—ãƒªã‚»ãƒƒãƒˆæœŸé–“åˆ‡æ›¿ï¼ˆæ—¥æ¬¡/é€±æ¬¡/æœˆæ¬¡ï¼‰ | shadcn/ui ToggleGroup |
| `SearchableSelect` | æ¤œç´¢å¯èƒ½ã‚»ãƒ¬ã‚¯ã‚¿ï¼ˆå•†å“ãƒ»é¡§å®¢é¸æŠï¼‰ | shadcn/ui Combobox |

---

## FilterSelectï¼ˆå˜ä¸€é¸æŠã‚»ãƒ¬ã‚¯ã‚¿ï¼‰

### Propså®šç¾©

```typescript
interface FilterSelectProps {
  /** ãƒ©ãƒ™ãƒ«ãƒ†ã‚­ã‚¹ãƒˆ */
  label: string
  /** é¸æŠè‚¢ */
  options: SelectOption[]
  /** é¸æŠä¸­ã®å€¤ */
  value: string
  /** å¤‰æ›´ãƒãƒ³ãƒ‰ãƒ© */
  onChange: (value: string) => void
  /** ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ */
  placeholder?: string
  /** ã€Œã™ã¹ã¦ã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’å…ˆé ­ã«è¿½åŠ  */
  showAllOption?: boolean
  /** ç„¡åŠ¹çŠ¶æ…‹ */
  disabled?: boolean
  /** ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ */
  loading?: boolean
  /** ã‚µã‚¤ã‚º */
  size?: 'sm' | 'md' | 'lg'
  /** ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
  error?: string
}

interface SelectOption {
  value: string
  label: string
  /** ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®èª¬æ˜æ–‡ï¼ˆã‚µãƒ–ãƒ†ã‚­ã‚¹ãƒˆï¼‰ */
  description?: string
  /** ç„¡åŠ¹åŒ– */
  disabled?: boolean
  /** ã‚°ãƒ«ãƒ¼ãƒ—åï¼ˆã‚°ãƒ«ãƒ¼ãƒ—åŒ–è¡¨ç¤ºç”¨ï¼‰ */
  group?: string
  /** ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆLucide icon nameï¼‰ */
  icon?: string
  /** ãƒãƒƒã‚¸ï¼ˆä»¶æ•°è¡¨ç¤ºç­‰ï¼‰ */
  badge?: string | number
}
```

### å¤–è¦³ä»•æ§˜

```
é€šå¸¸çŠ¶æ…‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚«ãƒ†ã‚´ãƒª              â–¼   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å±•é–‹çŠ¶æ…‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é›»å­æ©Ÿå™¨               â–¼  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ“ ã™ã¹ã¦                  â”‚
â”‚   é›»å­æ©Ÿå™¨          (42)  â”‚
â”‚   ã‚¢ãƒ‘ãƒ¬ãƒ«          (28)  â”‚
â”‚   é£Ÿå“              (15)  â”‚
â”‚   æ›¸ç±               (8)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [spinner] èª­ã¿è¾¼ã¿ä¸­...   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚µã‚¤ã‚ºãƒãƒªã‚¢ãƒ³ãƒˆ

| ã‚µã‚¤ã‚º | é«˜ã• | ãƒ•ã‚©ãƒ³ãƒˆ | ç”¨é€” |
|--------|------|---------|------|
| `sm` | 32px | 12px | ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒãƒ¼å†…ï¼ˆã‚³ãƒ³ãƒ‘ã‚¯ãƒˆè¡¨ç¤ºï¼‰ |
| `md` | 40px | 14px | æ¨™æº–ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ |
| `lg` | 48px | 16px | ãƒ•ã‚©ãƒ¼ãƒ å†… |

### å®Ÿè£…ã‚³ãƒ¼ãƒ‰

```tsx
'use client'

import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select'
import { Loader2 } from 'lucide-react'
import { cn } from '@/lib/utils'
import type { FilterSelectProps } from '@/types/components'

const sizeClasses = {
  sm: 'h-8 text-xs',
  md: 'h-10 text-sm',
  lg: 'h-12 text-base',
}

export function FilterSelect({
  label,
  options,
  value,
  onChange,
  placeholder = 'é¸æŠã—ã¦ãã ã•ã„',
  showAllOption = true,
  disabled = false,
  loading = false,
  size = 'md',
  error,
}: FilterSelectProps) {
  const allOptions = showAllOption
    ? [{ value: '__all__', label: 'ã™ã¹ã¦' }, ...options]
    : options

  return (
    <div className="flex flex-col gap-1">
      <label className="text-xs font-medium text-gray-500">{label}</label>
      <Select
        value={value}
        onValueChange={(v) => onChange(v === '__all__' ? '' : v)}
        disabled={disabled || loading}
      >
        <SelectTrigger className={cn(sizeClasses[size], error && 'border-red-500')}>
          {loading ? (
            <span className="flex items-center gap-2">
              <Loader2 className="h-4 w-4 animate-spin" />
              èª­ã¿è¾¼ã¿ä¸­...
            </span>
          ) : (
            <SelectValue placeholder={placeholder} />
          )}
        </SelectTrigger>
        <SelectContent>
          {allOptions.map((opt) => (
            <SelectItem key={opt.value} value={opt.value} disabled={opt.disabled}>
              <span className="flex items-center justify-between w-full">
                <span>{opt.label}</span>
                {opt.badge && (
                  <span className="ml-2 text-xs text-gray-400">({opt.badge})</span>
                )}
              </span>
            </SelectItem>
          ))}
        </SelectContent>
      </Select>
      {error && <span className="text-xs text-red-500">{error}</span>}
    </div>
  )
}
```

---

## FilterMultiSelectï¼ˆè¤‡æ•°é¸æŠã‚»ãƒ¬ã‚¯ã‚¿ï¼‰

### Propså®šç¾©

```typescript
interface FilterMultiSelectProps {
  label: string
  options: SelectOption[]
  /** é¸æŠä¸­ã®å€¤ï¼ˆé…åˆ—ï¼‰ */
  value: string[]
  onChange: (value: string[]) => void
  placeholder?: string
  /** æœ€å¤§é¸æŠæ•° */
  maxSelections?: number
  disabled?: boolean
  loading?: boolean
  size?: 'sm' | 'md' | 'lg'
}
```

### å¤–è¦³ä»•æ§˜

```
é¸æŠå‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åœ°åŸŸ                  â–¼   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é¸æŠå¾Œï¼ˆãƒãƒƒã‚¸è¡¨ç¤ºï¼‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [æ±äº¬] [å¤§é˜ª] +1      â–¼  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å±•é–‹çŠ¶æ…‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [æ±äº¬] [å¤§é˜ª] +1      â–¼  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” åœ°åŸŸã‚’æ¤œç´¢...          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ã™ã¹ã¦é¸æŠ] [ã™ã¹ã¦è§£é™¤] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â˜‘ æ±äº¬          (120)    â”‚
â”‚ â˜‘ å¤§é˜ª           (85)    â”‚
â”‚ â˜‘ åå¤å±‹         (42)    â”‚
â”‚ â˜ ç¦å²¡           (30)    â”‚
â”‚ â˜ æœ­å¹Œ           (18)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å‹•ä½œä»•æ§˜

| æ“ä½œ | å‹•ä½œ |
|------|------|
| ã€Œã™ã¹ã¦é¸æŠã€ | å…¨ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠçŠ¶æ…‹ã«ã™ã‚‹ |
| ã€Œã™ã¹ã¦è§£é™¤ã€ | å…¨é¸æŠã‚’è§£é™¤ â†’ ãƒ•ã‚£ãƒ«ã‚¿ã¯ã€Œå…¨ä»¶ã€æ‰±ã„ |
| å€‹åˆ¥ãƒã‚§ãƒƒã‚¯ | valueé…åˆ—ã«è¿½åŠ /å‰Šé™¤ |
| æ¤œç´¢å…¥åŠ› | é¸æŠè‚¢ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆå‰æ–¹ä¸€è‡´ + éƒ¨åˆ†ä¸€è‡´ï¼‰ |
| maxSelectionsè¶…é | é¸æŠä¸å¯ + ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã€Œæœ€å¤§Nå€‹ã¾ã§é¸æŠã§ãã¾ã™ã€ |
| ãƒãƒƒã‚¸è¡¨ç¤º | 3å€‹ä»¥ä¸Šé¸æŠæ™‚ã¯å…ˆé ­2ã¤ + `+N` ã§çœç•¥è¡¨ç¤º |

---

## DateRangePickerï¼ˆæœŸé–“é¸æŠï¼‰

### Propså®šç¾©

```typescript
interface DateRangePickerProps {
  label: string
  value: { from: Date; to: Date }
  onChange: (range: { from: Date; to: Date }) => void
  /** ãƒ—ãƒªã‚»ãƒƒãƒˆæœŸé–“ã‚’è¡¨ç¤º */
  showPresets?: boolean
  /** é¸æŠå¯èƒ½ãªæœ€å°æ—¥ */
  minDate?: Date
  /** é¸æŠå¯èƒ½ãªæœ€å¤§æ—¥ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ä»Šæ—¥ï¼‰ */
  maxDate?: Date
  /** æœ€å¤§é¸æŠæœŸé–“ï¼ˆæ—¥æ•°ï¼‰ */
  maxRange?: number
  disabled?: boolean
}
```

### ãƒ—ãƒªã‚»ãƒƒãƒˆæœŸé–“

| ãƒ©ãƒ™ãƒ« | ç¯„å›² |
|--------|------|
| ä»Šæ—¥ | å½“æ—¥ã®ã¿ |
| ç›´è¿‘7æ—¥ | today - 7 ã€œ today |
| ç›´è¿‘30æ—¥ | today - 30 ã€œ todayï¼ˆ**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ**ï¼‰ |
| ç›´è¿‘90æ—¥ | today - 90 ã€œ today |
| ä»Šæœˆ | æœˆåˆ ã€œ today |
| å…ˆæœˆ | å‰æœˆ1æ—¥ ã€œ å‰æœˆæœ«æ—¥ |
| ä»Šå››åŠæœŸ | å››åŠæœŸåˆ ã€œ today |
| ã‚«ã‚¹ã‚¿ãƒ  | ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‹ã‚‰ä»»æ„é¸æŠ |

### å¤–è¦³ä»•æ§˜

```
é€šå¸¸çŠ¶æ…‹ï¼ˆãƒ—ãƒªã‚»ãƒƒãƒˆé¸æŠä¸­ï¼‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“… 2026/01/15 - 2026/02/14  â”‚
â”‚    ç›´è¿‘30æ—¥               â–¼  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å±•é–‹çŠ¶æ…‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãƒ—ãƒªã‚»ãƒƒãƒˆ          â”‚  ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼        â”‚
â”‚  â—‹ ä»Šæ—¥              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â—‹ ç›´è¿‘7æ—¥           â”‚  â”‚  2026å¹´ 1æœˆ   â”‚ â”‚
â”‚  â— ç›´è¿‘30æ—¥          â”‚  â”‚ æ—¥æœˆç«æ°´æœ¨é‡‘åœŸâ”‚ â”‚
â”‚  â—‹ ç›´è¿‘90æ—¥          â”‚  â”‚     1  2  3  4â”‚ â”‚
â”‚  â—‹ ä»Šæœˆ              â”‚  â”‚  5  6  7 ... â”‚ â”‚
â”‚  â—‹ å…ˆæœˆ              â”‚  â”‚ ...  28 29 30 â”‚ â”‚
â”‚  â—‹ ä»Šå››åŠæœŸ          â”‚  â”‚ 31            â”‚ â”‚
â”‚  â—‹ ã‚«ã‚¹ã‚¿ãƒ           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                      â”‚  [é©ç”¨]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### URLé€£å‹•

```
/dashboard?from=2026-01-15&to=2026-02-14&preset=last30d
```

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å½¢å¼ | èª¬æ˜ |
|-----------|------|------|
| `from` | YYYY-MM-DD | é–‹å§‹æ—¥ |
| `to` | YYYY-MM-DD | çµ‚äº†æ—¥ |
| `preset` | string | ãƒ—ãƒªã‚»ãƒƒãƒˆåï¼ˆtoday, last7d, last30d, last90d, thisMonth, lastMonth, thisQuarter, customï¼‰ |

---

## PeriodSelectorï¼ˆè¡¨ç¤ºæœŸé–“åˆ‡æ›¿ï¼‰

### Propså®šç¾©

```typescript
interface PeriodSelectorProps {
  value: 'daily' | 'weekly' | 'monthly'
  onChange: (period: 'daily' | 'weekly' | 'monthly') => void
  disabled?: boolean
}
```

### å¤–è¦³ä»•æ§˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ æ—¥æ¬¡ â”‚ é€±æ¬¡ â”‚ æœˆæ¬¡ â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
         ^^^^ (é¸æŠä¸­: èƒŒæ™¯è‰² primary-500, ç™½æ–‡å­—)
```

### ãƒãƒ£ãƒ¼ãƒˆé€£å‹•

| æœŸé–“ | Xè»¸ãƒ©ãƒ™ãƒ« | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ |
|------|----------|------------|
| daily | MM/DD | mart_sales_daily |
| weekly | MM/DDé€± | mart_sales_daily ã‚’7æ—¥é›†ç´„ |
| monthly | YYYY/MM | mart_sales_monthly |

---

## SearchableSelectï¼ˆæ¤œç´¢å¯èƒ½ã‚»ãƒ¬ã‚¯ã‚¿ï¼‰

### Propså®šç¾©

```typescript
interface SearchableSelectProps {
  label: string
  value: string
  onChange: (value: string) => void
  /** æ¤œç´¢APIï¼ˆdebounceé©ç”¨æ¸ˆã¿ã®çµæœã‚’è¿”ã™ï¼‰ */
  onSearch: (query: string) => Promise<SelectOption[]>
  placeholder?: string
  /** æ¤œç´¢ãƒ‡ãƒã‚¦ãƒ³ã‚¹(ms) */
  debounceMs?: number
  /** æœ€å°å…¥åŠ›æ–‡å­—æ•° */
  minQueryLength?: number
  disabled?: boolean
  /** ç©ºçŠ¶æ…‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
  emptyMessage?: string
}
```

### å‹•ä½œä»•æ§˜

| æ“ä½œ | å‹•ä½œ |
|------|------|
| ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ | ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³å±•é–‹ + æ¤œç´¢å…¥åŠ›ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ |
| æ–‡å­—å…¥åŠ› | 300ms debounceå¾Œã«onSearchå®Ÿè¡Œ |
| æ¤œç´¢ä¸­ | ã‚¹ãƒ”ãƒŠãƒ¼è¡¨ç¤º |
| çµæœ0ä»¶ | emptyMessageè¡¨ç¤ºï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: ã€Œè©²å½“ã™ã‚‹é …ç›®ãŒã‚ã‚Šã¾ã›ã‚“ã€ï¼‰ |
| é¸æŠ | ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³é–‰ã˜ã‚‹ + é¸æŠå€¤è¡¨ç¤º |
| Escape | ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³é–‰ã˜ã‚‹ |
| ä¸Šä¸‹ã‚­ãƒ¼ | ã‚ªãƒ—ã‚·ãƒ§ãƒ³é–“ã‚’ç§»å‹• |
| Enter | ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ä¸­ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’é¸æŠ |

---

## ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒãƒ¼çµ±åˆ

### FilterBar ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ä¸Šéƒ¨ã«ã‚»ãƒ¬ã‚¯ã‚¿ç¾¤ã‚’æ¨ªä¸¦ã³ã§é…ç½®ã™ã‚‹çµ±åˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚

```typescript
interface FilterBarProps {
  filters: DashboardFilters
  onChange: (filters: DashboardFilters) => void
  onReset: () => void
}
```

### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
Desktop (>= 1024px):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“… æœŸé–“: [DateRangePicker]  ãƒãƒ£ãƒãƒ«: [FilterSelect]          â”‚
â”‚ ã‚«ãƒ†ã‚´ãƒª: [FilterSelect]  åœ°åŸŸ: [FilterMultiSelect]           â”‚
â”‚ [æ—¥æ¬¡|é€±æ¬¡|æœˆæ¬¡]                              [ãƒªã‚»ãƒƒãƒˆ]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Tablet (768-1023px):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“… [DateRangePicker        ]      â”‚
â”‚ [ãƒãƒ£ãƒãƒ« â–¼] [ã‚«ãƒ†ã‚´ãƒª â–¼]         â”‚
â”‚ [åœ°åŸŸ     â–¼] [æ—¥æ¬¡|é€±æ¬¡|æœˆæ¬¡]     â”‚
â”‚                      [ãƒªã‚»ãƒƒãƒˆ]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Mobile (< 768px):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ•ã‚£ãƒ«ã‚¿ (3)      [å±•é–‹] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â† å±•é–‹æ™‚
â”‚ ğŸ“… [DateRangePicker   ] â”‚
â”‚ [ãƒãƒ£ãƒãƒ«            â–¼] â”‚
â”‚ [ã‚«ãƒ†ã‚´ãƒª            â–¼] â”‚
â”‚ [åœ°åŸŸ                â–¼] â”‚
â”‚ [æ—¥æ¬¡|é€±æ¬¡|æœˆæ¬¡]        â”‚
â”‚ [ãƒªã‚»ãƒƒãƒˆ] [é©ç”¨]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Zustand Storeé€£æº

```typescript
// src/stores/filter-store.ts
import { create } from 'zustand'

interface FilterState {
  dateRange: { from: Date; to: Date }
  preset: string
  channel: string
  categoryL1: string
  regions: string[]
  period: 'daily' | 'weekly' | 'monthly'
  setDateRange: (range: { from: Date; to: Date }, preset: string) => void
  setChannel: (channel: string) => void
  setCategoryL1: (category: string) => void
  setRegions: (regions: string[]) => void
  setPeriod: (period: 'daily' | 'weekly' | 'monthly') => void
  reset: () => void
}

const DEFAULT_FILTERS = {
  dateRange: {
    from: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),
    to: new Date(),
  },
  preset: 'last30d',
  channel: '',
  categoryL1: '',
  regions: [],
  period: 'daily' as const,
}

export const useFilterStore = create<FilterState>((set) => ({
  ...DEFAULT_FILTERS,
  setDateRange: (range, preset) => set({ dateRange: range, preset }),
  setChannel: (channel) => set({ channel }),
  setCategoryL1: (categoryL1) => set({ categoryL1 }),
  setRegions: (regions) => set({ regions }),
  setPeriod: (period) => set({ period }),
  reset: () => set(DEFAULT_FILTERS),
}))
```

---

## ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è¦ä»¶

| è¦ä»¶ | å®Ÿè£… |
|------|------|
| ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ | Tab â†’ Enter/Space ã§å±•é–‹ã€ä¸Šä¸‹ã‚­ãƒ¼ã§ç§»å‹•ã€Enter ã§é¸æŠã€Esc ã§é–‰ã˜ã‚‹ |
| ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼ | `aria-label`, `aria-expanded`, `aria-selected`, `role="listbox"` |
| ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç† | å±•é–‹æ™‚ã«æœ€åˆã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã€é–‰ã˜ãŸæ™‚ã«ãƒˆãƒªã‚¬ãƒ¼ã«æˆ»ã‚‹ |
| ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ | é¸æŠä¸­ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯èƒŒæ™¯è‰² primary-100 + ãƒ†ã‚­ã‚¹ãƒˆ primary-900 (4.5:1ä»¥ä¸Š) |
| ã‚¿ãƒƒãƒæ“ä½œ | ã‚¿ãƒƒãƒ—é ˜åŸŸ 44x44px ä»¥ä¸Šç¢ºä¿ |

---

## Claude Codeå®Ÿè£…ã‚¬ã‚¤ãƒ‰

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
src/components/
â”œâ”€â”€ molecules/
â”‚   â”œâ”€â”€ filter-select.tsx         # å˜ä¸€é¸æŠ
â”‚   â”œâ”€â”€ filter-multi-select.tsx   # è¤‡æ•°é¸æŠ
â”‚   â”œâ”€â”€ date-range-picker.tsx     # æœŸé–“é¸æŠ
â”‚   â”œâ”€â”€ period-selector.tsx       # æ—¥æ¬¡/é€±æ¬¡/æœˆæ¬¡åˆ‡æ›¿
â”‚   â””â”€â”€ searchable-select.tsx     # æ¤œç´¢å¯èƒ½ã‚»ãƒ¬ã‚¯ã‚¿
â”œâ”€â”€ organisms/
â”‚   â””â”€â”€ filter-bar.tsx            # ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ãƒãƒ¼ï¼ˆçµ±åˆï¼‰
â””â”€â”€ ui/                           # shadcn/ui ãƒ™ãƒ¼ã‚¹ï¼ˆnpx shadcn-ui@latest addï¼‰
    â”œâ”€â”€ select.tsx
    â”œâ”€â”€ popover.tsx
    â”œâ”€â”€ calendar.tsx
    â”œâ”€â”€ checkbox.tsx
    â”œâ”€â”€ toggle-group.tsx
    â””â”€â”€ command.tsx               # Comboboxç”¨
```

### å¿…è¦ãªshadcn/uiã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```bash
npx shadcn-ui@latest add select popover calendar checkbox toggle-group command badge
```

### å®Ÿè£…é †åº

1. shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. `FilterSelect` â†’ æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ãªã®ã§æœ€åˆã«å®Ÿè£…
3. `DateRangePicker` â†’ ãƒ—ãƒªã‚»ãƒƒãƒˆ + ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼UI
4. `PeriodSelector` â†’ ToggleGroup ãƒ™ãƒ¼ã‚¹
5. `FilterMultiSelect` â†’ Popover + Checkbox
6. `SearchableSelect` â†’ Combobox + APIé€£æº
7. `FilterBar` â†’ ä¸Šè¨˜ã‚’çµ±åˆ
8. `useFilterStore` â†’ Zustand Store + URLé€£å‹•
9. ãƒ†ã‚¹ãƒˆä½œæˆ

### ãƒ†ã‚¹ãƒˆè¦³ç‚¹

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ |
|-------------|------------|
| FilterSelect | é¸æŠè‚¢ã®è¡¨ç¤ºã€é¸æŠæ™‚ã®onChangeç™ºç«ã€disabledçŠ¶æ…‹ã€loadingçŠ¶æ…‹ |
| FilterMultiSelect | è¤‡æ•°é¸æŠã€å…¨é¸æŠ/å…¨è§£é™¤ã€maxSelectionsåˆ¶ç´„ã€ãƒãƒƒã‚¸çœç•¥è¡¨ç¤º |
| DateRangePicker | ãƒ—ãƒªã‚»ãƒƒãƒˆé¸æŠã€ã‚«ã‚¹ã‚¿ãƒ ç¯„å›²ã€maxRangeè¶…éæ™‚ã®åˆ¶ç´„ |
| PeriodSelector | åˆ‡æ›¿æ™‚ã®onChangeã€disabledçŠ¶æ…‹ |
| SearchableSelect | ãƒ‡ãƒã‚¦ãƒ³ã‚¹å‹•ä½œã€ç©ºçµæœè¡¨ç¤ºã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ |
| FilterBar | URLé€£å‹•ï¼ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ â†’ çŠ¶æ…‹å¾©å…ƒ â†’ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ›´æ–°ï¼‰ã€ãƒªã‚»ãƒƒãƒˆ |
