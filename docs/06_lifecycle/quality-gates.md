# 品質ゲート定義

## Gate 0: 要件定義完了

| # | 確認項目 | 判定 |
|---|---------|------|
| 0-1 | 全機能要件にIDと受け入れ基準が付与されている | [ ] |
| 0-2 | 非機能要件が8品質特性で定量定義されている | [ ] |
| 0-3 | 要件間に矛盾がない（クロスチェック済み） | [ ] |
| 0-4 | 追跡可能性マトリクス（RTM）初版が作成されている | [ ] |
| 0-5 | 全ステークホルダーのサインオフ完了 | [ ] |
| 0-6 | AI利用に関する合意が文書化されている | [ ] |

**判定者:** PO + PM

## Gate 1: 設計完了

| # | 確認項目 | 判定 |
|---|---------|------|
| 1-1 | アーキテクチャ図・データフロー図が作成されている | [ ] |
| 1-2 | 主要技術選定のADRが作成されている | [ ] |
| 1-3 | API仕様（OpenAPI）がレビュー済み | [ ] |
| 1-4 | DB設計（ER図・インデックス）が完了 | [ ] |
| 1-5 | 脅威モデリング（STRIDE）が実施・対策反映済み | [ ] |
| 1-6 | 設計レビュー全項目で問題なしまたは対策済み | [ ] |
| 1-7 | テスト計画書が承認済み | [ ] |
| 1-8 | RTO/RPOが定義されDR設計に反映されている | [ ] |

**判定者:** Tech Lead + セキュリティ担当

## Gate 2: 実装完了

| # | 確認項目 | 判定 |
|---|---------|------|
| 2-1 | 行カバレッジ >= 80%、分岐カバレッジ >= 75% | [ ] |
| 2-2 | 差分カバレッジ >= 90% | [ ] |
| 2-3 | 静的解析 Critical/Blocker = 0 | [ ] |
| 2-4 | SAST Critical/High = 0、SCA Critical/High = 0 | [ ] |
| 2-5 | 全PRがレビュー済み・承認済み | [ ] |
| 2-6 | 循環的複雑度が全関数で閾値以内（<= 20） | [ ] |
| 2-7 | コードクローン率 <= 3% | [ ] |
| 2-8 | API仕様との整合性確認済み | [ ] |
| 2-9 | AI生成コード固有リスクチェック実施済み | [ ] |

**判定者:** Tech Lead + レビュアー

## Gate 3: テスト完了

| # | 確認項目 | 判定 |
|---|---------|------|
| 3-1 | 全単体テスト合格、実行時間 <= 5分 | [ ] |
| 3-2 | 全統合テスト合格、主要ユースケース網羅率100% | [ ] |
| 3-3 | クリティカルパスE2E全テスト合格 | [ ] |
| 3-4 | 性能テスト: p95がSLO以内、想定ピーク2倍に耐える | [ ] |
| 3-5 | DAST: Critical/High = 0 | [ ] |
| 3-6 | フェイルオーバーがRTO以内に完了 | [ ] |
| 3-7 | RTMが最新化済み | [ ] |
| 3-8 | 残存バグ密度 <= 0.5件/KLOC（Critical/High = 0） | [ ] |

**判定者:** QA Lead + PM

## Gate 4: リリース判定

| # | 確認項目 | 判定 |
|---|---------|------|
| 4-1 | Gate 2・3の全項目合格 | [ ] |
| 4-2 | 監視・アラート設定が稼働中 | [ ] |
| 4-3 | Runbook（障害復旧手順書）がレビュー済み | [ ] |
| 4-4 | ロールバック手順と判断基準が定義済み | [ ] |
| 4-5 | 本番環境の冗長性が設計通り構築済み | [ ] |
| 4-6 | データマイグレーションのリハーサル完了 | [ ] |
| 4-7 | PO・セキュリティ・運用チームの承認取得 | [ ] |
| 4-8 | リリースノート作成済み | [ ] |

**判定者:** PO + セキュリティ + 運用

## Gate 5: リリース後評価（1〜2週間後）

| # | 確認項目 | 判定 |
|---|---------|------|
| 5-1 | SLO達成率が目標以上 | [ ] |
| 5-2 | エラーバジェット消費が計画範囲内 | [ ] |
| 5-3 | リリース起因のSev1/Sev2インシデント = 0 | [ ] |
| 5-4 | 性能劣化なし（リリース前同等以上） | [ ] |
| 5-5 | 重大な不具合報告なし | [ ] |
| 5-6 | 振り返り実施・改善点記録済み | [ ] |

**判定者:** 全ステークホルダー
