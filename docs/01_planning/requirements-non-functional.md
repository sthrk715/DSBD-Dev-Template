# 非機能要件定義書

ISO/IEC 25010の8品質特性に基づき定量目標を設定する。

## 1. 機能適合性

| 項目 | 目標 |
|------|------|
| 要件充足率 | 100% |
| 受入テスト合格率 | 100% |

## 2. 性能効率性

| 項目 | 目標 |
|------|------|
| ページ表示速度（初回） | 3秒以内 |
| API レスポンスタイム（p95） | 300ms以内 |
| API レスポンスタイム（p99） | 1秒以内 |
| 同時接続ユーザー数 | 25名（Admin 4-5名 + Viewer 10-20名） |
| BigQuery クエリタイムアウト | 30秒 |
| LCP (Largest Contentful Paint) | 2.5秒以内 |
| FID (First Input Delay) | 100ms以内 |
| CLS (Cumulative Layout Shift) | 0.1以下 |

## 3. 互換性

| 項目 | 目標 |
|------|------|
| 対応ブラウザ | Chrome (最新2ver), Firefox (最新2ver), Safari (最新2ver), Edge (最新2ver) |
| レスポンシブ対応 | デスクトップ (1280px+), タブレット (768px+) |
| API準拠率 | OpenAPI 3.1 100% |

## 4. 使用性

| 項目 | 目標 |
|------|------|
| SUSスコア | 68点以上 |
| アクセシビリティ | WCAG 2.1 Level AA |
| 多言語対応 | 日本語のみ |

## 5. 信頼性

| 項目 | 目標 |
|------|------|
| 可用性（SLA） | 99.5%（社内ツールのため） |
| 月間ダウンタイム上限 | 約3.6時間 |
| Cloud Run 最小インスタンス数 | 1 |
| Cloud Run 最大インスタンス数 | 5 |
| RPO（目標復旧時点） | 24時間（日次バッチのため、前日分データまで復旧できればよい） |
| RTO（目標復旧時間） | 4時間 |
| MTTR（平均修復時間） | 2時間以内 |

## 6. セキュリティ

| 項目 | 目標 |
|------|------|
| 認証方式 | Google OAuth 2.0（Google Workspaceドメイン制限） |
| 通信暗号化 | HTTPS必須 (TLS 1.2+) |
| OWASP Top 10 脆弱性 | ゼロ |
| データアクセス制御 | ロールベース (RBAC): Admin / Viewer |
| VPCコネクタ | 不要（BigQueryはGoogle内部ネットワーク経由） |
| シークレット管理 | GCP Secret Manager |
| 監査ログ | Cloud Audit Logs有効 |
| BigQueryアクセス | 読み取り専用（ダッシュボードからの直接書き込み禁止） |

## 7. 保守性

| 項目 | 目標 |
|------|------|
| 循環的複雑度 | 関数あたり10以下 |
| テストカバレッジ | 80%以上 |
| コードクローン率 | 3%以下 |
| ログ集約方式 | Cloud Logging（構造化JSON） |
| 監視ツール | Cloud Monitoring |
| バックアップ方針 | BigQuery: スナップショット（7日保持）/ Cloud SQL: 日次自動バックアップ |

## 8. 移植性

| 項目 | 目標 |
|------|------|
| コンテナ化率 | 100% |
| IaC管理率 | 100% (Terraform) |
| マルチクラウド対応 | 不要 |
| ベンダーロックイン | 最小化（標準技術使用） |
